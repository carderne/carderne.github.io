<!DOCTYPE html>
<html>
	<head>
            <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	    <title>Visualizing book club cliques (and replacing them with AI)</title>
	    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,700italic,300,700" rel="stylesheet" type="text/css">
			<link href="https://fonts.googleapis.com/css?family=Bree+Serif" rel="stylesheet" type="text/css">

			<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">
			<link rel="stylesheet" type="text/css" href="../assets/styles/crisp.css?v=6ab14fe531">
	    <meta name="HandheldFriendly" content="True">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
			<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
			<!--[if lt IE 9]>
				<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
				<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
			<![endif]-->
			
	    <meta name="description" content="Let's see if it would be possible to do away with book club meetings altogether and replace my fellow book-readers with a less argumentative machine learning model.">
    <link rel="shortcut icon" href="../favicon.png" type="image/png">
    <link rel="canonical" href="/visualizing-book-club-ai/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta property="og:site_name" content="Chris Arderne">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Visualizing book club cliques (and replacing them with AI)">
    <meta property="og:description" content="My book club is quite good about recording what we read each month, and noting what score each of us give each book. Let's see if it would be possible to do away with book club meetings altogether and replace my fellow book-readers with a less argumentative machine learning model.">
    <meta property="og:url" content="/visualizing-book-club-ai/">
    <meta property="article:published_time" content="2018-02-15T10:58:00.000Z">
    <meta property="article:modified_time" content="2018-10-23T13:50:56.000Z">
    <meta property="article:tag" content="Inside">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Visualizing book club cliques (and replacing them with AI)">
    <meta name="twitter:description" content="My book club is quite good about recording what we read each month, and noting what score each of us give each book. Let's see if it would be possible to do away with book club meetings altogether and replace my fellow book-readers with a less argumentative machine learning model.">
    <meta name="twitter:url" content="/visualizing-book-club-ai/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Chris Arderne">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="Inside">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Chris Arderne",
        "logo": {
            "@type": "ImageObject",
            "url": "/content/images/2018/10/face3.png",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Chris Arderne",
        "url": "/author/chris/",
        "sameAs": []
    },
    "headline": "Visualizing book club cliques (and replacing them with AI)",
    "url": "/visualizing-book-club-ai/",
    "datePublished": "2018-02-15T10:58:00.000Z",
    "dateModified": "2018-10-23T13:50:56.000Z",
    "keywords": "Inside",
    "description": "My book club is quite good about recording what we read each month, and noting what score each of us give each book. Let&#x27;s see if it would be possible to do away with book club meetings altogether and replace my fellow book-readers with a less argumentative machine learning model.",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "/"
    }
}
    </script>

    <script src="../public/ghost-sdk.min.js?v=6ab14fe531"></script>
<script>
ghost.init({
	clientId: "ghost-frontend",
	clientSecret: "ffd2c8ae15fe"
});
</script>
    <meta name="generator" content="Ghost 2.2">
    <link rel="alternate" type="application/rss+xml" title="Chris Arderne" href="/rss/">
	</head>
	<body class="post-template tag-inside">
		<header id="header">
			<a id="logo" href="https://rdrn.me"><img src="../content/images/2018/10/face3.png" alt="Chris Arderne"></a>
			<h1><a href="https://rdrn.me">Chris Arderne</a></h1>
                        
			<div id="icons">
<a href="mailto:chris@rdrn.me"><i class="fa fa-envelope-square"></i></a>
<a href="https://www.linkedin.com/in/chris-arderne" target="_blank"><i class="fa fa-linkedin-square"></i></a>
<a href="https://github.com/carderne" target="_blank"><i class="fa fa-github-square"></i></a>
</div> 
			  <div id="internal_link"><h5><a href="/">Home</a></h5></div>
  <div id="internal_link"><h5><a href="/about/">About me</a></h5></div>

                        <p>A blog for adventurous trip reports, explorations of data and code, and sometimes even things from my day job. Use the links above to learn more, see my work and get in touch.</p>
		</header>
		<main id="content"> 
			<article id="5bbc65057cc70a140e7fd118" class="post tag-inside">
	<div class="post-stamp">15 February 2018<span class="taglist"> · <a href="../tag/inside/">Inside</a></span></div>
	<h1 class="post-title">Visualizing book club cliques (and replacing them with AI)</h1>
	<p>My book club is quite good about recording what we read each month, and noting what score each of us give each book (out of 13, for historical reasons) on a growing spreadsheet. The dataset is imperfect, as people have joined and left, and not everyone has read every book, but there should be enough meat for some fun.</p><p>First off, the scores look something like the table below, but with 17 more rows. Blanks are books that people either didn't read or didn't finish.</p><figure class="kg-card kg-image-card"><img src="../content/images/2018/10/Screenshot-20181023153030-774x296.png" class="kg-image"></figure><p>We then pair everyone up, and calculate a 'disagreement' standard deviation between each possible pairing, ignoring books that either person didn't read. This gives us a nice looking heat map, where higher numbers indicate a higher level of disagreement. The biggest difference is between Kyle and Jeff, whose ratings differ by an SD of 4.8. The most closely paired are Adam and me, with an SD of 1.7.</p><figure class="kg-card kg-image-card"><img src="../content/images/2018/10/heatmap-1.png" class="kg-image"></figure><p>Then we can use the magic of <a href="https://networkx.github.io/">NetworkX</a> to visualize these cliques in a <s>better</s> prettier way. Node size represents number of books read, while line weight and darkness scales by how many books a pair has in common. People's disagreements are modelled as springs, so members with closer agreements are pulled closer together on the diagram by stronger springs.</p><p>As noted, Kyle is the definite outlier, while Tim and Adam float around a bit in the middle of the network. The newer members have thinner connecting lines, while the stalwarts are connected by pleasing thick blue lines.</p><figure class="kg-card kg-image-card"><img src="../content/images/2018/10/network-2.png" class="kg-image"></figure><h3 id="off-the-deep-end-teaching-a-machine-to-book-club">Off the deep end: teaching a machine to book club</h3><p>Finally, let's see if it would be possible to do away with book club meetings altogether and replace my fellow book-readers with a less argumentative machine learning model. Skipping over the obvious fact that there is nowhere near enough data for this to be meaningful, how closely can a model predict what score each member is likely to give a specific book?</p><p>I started off by adding additional metadata to each book we've read: genre, length and year, as well as author country, language and gender. I also decided to make the challenge a bit easier: instead of a score from 1-13, the model only needs to tell if someone <em>liked </em>the book, which I define as a score above 8.</p><p>Before building and training the model, the data needs to be prepared a bit more. I dropped members who hadn't read enough books, and books that hadn't been read by enough people. Non-numerical columns (such as genre) need to be replaced with binary values that the model can more easily understand. Finally, we split it into a training set (about 75% of the rows) which the model will use to learn, and a test set (the remaining 25%) that it doesn't get to see until it's time to assess its performance.</p><p>Finally, using the incredible <a href="https://127.0.0.1:2368/visualizing-book-club-ai/scikit-learn.org">scikit-learn</a> libraries, I created and trained a <a href="https://en.wikipedia.org/wiki/K-nearest_neighbors_algorithm"><em>k</em>-NN</a> model and ran a bunch of tests to see if it successfully managed to impersonate anyone in the book club. And in turns out that the person it impersonates best is... me! Let's see what the model thinks of itself, in terms of how well it predicts likes:</p><ul><li>Accuracy (guesses that are correct): 60%</li><li>Precision (like identifications that are correct): 50%</li><li>Recall (actual likes identified): 100%</li><li><a href="https://en.wikipedia.org/wiki/F1_score">F1 score</a> (a balance between precision and recall): 67%</li></ul><p>The recall may sound impressive, but in this case it is because the model is a bit trigger-ready with likes. The table below shows the test results for AI-Chris, with an L for like and a D for dislike. This makes it pretty clear why the recall is perfect, but the precision is as good as guessing. Still, 60% correct guesses is better than I expected!</p><figure class="kg-card kg-image-card"><img src="../content/images/2018/10/Screenshot-20181023153516-777x83.png" class="kg-image"></figure>
</article>  

		</main>
		<footer id="footer">
			<section id="footer-message">© 2018 Chris Arderne.</section>
		</footer>
	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	</body>
</html>